<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>❤️</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Dosis:wght@700;800&family=Pacifico&display=swap" rel="stylesheet">

<!-- Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TimelineMax.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"></script>

<style>
html, body {
  margin:0; padding:0;
  width:100%; height:100%;
  background: #D1B1CB;
  overflow: hidden;
  font-family:'Dosis', system-ui, sans-serif;
}

/* HEART BACKGROUND */
#canvas {
  position: fixed;
  inset:0;
  width:100%;
  height:100%;
  z-index:1;
}
.o_heart { fill:#E0C3D8; }
.i_heart { fill:#F4E9F1; }

/* CONTENT PHOTOS + CARD */
.content {
  position: relative;
  z-index:10;
  width:100%; height:100%;
  display:flex; justify-content:center; align-items:center;
  padding:20px; box-sizing:border-box;
}
.row { display:flex; align-items:center; gap:28px; }
.photo {
  width:280px; height:280px; background:#7C616C;
  border-radius:16px; overflow:hidden; flex-shrink:0;
  box-shadow:0 14px 30px rgba(0,0,0,0.35);
}
.photo img { width:100%; height:100%; object-fit:cover; }
.card {
  background:#7C616C; color:#E5E9EC;
  padding:26px 28px; max-width:420px;
  border-radius:18px; text-align:center;
  box-shadow:0 18px 40px rgba(0,0,0,0.35);
  animation: fadeUp 1s ease-out;
}
.title {
  font-family:'Pacifico', cursive;
  font-size:clamp(2.2rem,5vw,3.4rem);
  margin-bottom:14px; color:#E5E9EC;
  text-shadow:0 4px 10px rgba(0,0,0,0.35);
}
.card p { font-size:1.05rem; line-height:1.6; margin:0; }
@keyframes fadeUp { from{opacity:0;transform:translateY(20px);} to{opacity:1;transform:translateY(0);} }

/* CURTAIN */
.curtain {
  position: fixed; top:-100%; left:0;
  width:100%; height:100%;
  background:#7C616C; z-index:15;
}

/* HEART BUTTON */
.heart-button {
  position: fixed; bottom:30px; right:30px;
  width:80px; height:80px; border-radius:50%;
  background:#7C616C; display:flex; justify-content:center; align-items:center;
  cursor:pointer; z-index:20; box-shadow:0 6px 15px rgba(0,0,0,0.35);
  transition: transform 0.2s;
}
.heart-button:hover { transform:scale(1.15); }
.heart-button svg { width:40px; height:40px; fill:#E5E9EC; }

/* ENVELOPE */
.envelope-wrapper {
  position: fixed; top:50%; left:50%; transform:translate(-50%,-50%);
  width:400px; height:250px; z-index:26; display:none; cursor:pointer;
}
.envelope-wrapper .hint {
  text-align:center; margin-top:10px;
  color: rgba(229,233,236,0.3);
  font-weight:bold; font-size:1rem;
}
#envelope {
  position: relative; width:100%; height:100%;
  background:#F6E2B6; box-shadow:0 4px 15px rgba(0,0,0,0.25);
  transform-style: preserve-3d; perspective:600px;
}
#envelope .flap {
  position:absolute; top:0; left:0; width:100%; height:50%;
  background:#F6E2B6; border-bottom:2px solid #D1B1CB;
  transform-origin: top; transition: transform 0.8s ease; z-index:2;
  clip-path: polygon(0 0,50% 100%,100% 0);
}
.letter {
  position:absolute; top:0; left:0; width:100%; height:100%;
  background:#fff; border-radius:5px; padding:20px; box-sizing:border-box;
  display:flex; flex-direction:column; justify-content:center; text-align:center;
  opacity:0; z-index:1; transform:rotateX(0deg);
}
.letter.visible { opacity:1; transition: opacity 0.8s ease; }
.letter h1 { margin:0; font-size:1.8rem; color:#7C616C; }
.letter h4 { margin:5px 0 0 0; font-size:1rem; color:#7C616C; }

/* MOBILE STACK */
@media (max-width:900px){ .row{flex-direction:column;} .photo{width:200px;height:200px;} }
</style>
</head>
<body>

<!-- HEART BACKGROUND -->
<svg id="canvas" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <g id="heart">
      <path class="o_heart" d="M102.7,12.4C90.5,0.2,71.3-1,57.7,8.8
        44.1,0.1,24.8,1.3,12.5,12.4
        c-13.6,13.6-13.6,35.8,0,49.3L48.8,98
        c3.4,3.4,9,3.4,12.4,0l36.3-36.3
        C116.2,48.2,116.2,26,102.7,12.4z"/>
      <path class="i_heart" d="M74.7,34
        c-4.6-4.6-11.9-5.1-17.1-1.4
        c-5.2-3.8-12.5-3.3-17.1,1.3
        c-5.1,5.1-5.1,13.6,0,18.7
        l13.8,13.8c2.3,2.3,6,2.3,8.3,0
        l13.8-13.8c5.2-5.1,5.2-13.5,0-18.6z"/>
    </g>
  </defs>
</svg>

<!-- CONTENT -->
<div class="content">
  <div class="row">
    <div class="photo"><img src="photov1.jpeg" alt="Us together"></div>
    <div class="card">
      <div class="title">Hey ❤️</div>
      <p>
        Sper ca acest link parea sa fie suspicios.<br><br>
        Nu voiam sa iti dai seama din prima ca vreau sa iti spun aici ca te iubesc si sunt norocos sa te am in viata mea, Guzelik!
      </p>
    </div>
    <div class="photo"><img src="photov2.jpeg" alt="Us together"></div>
  </div>
</div>

<!-- CURTAIN -->
<div class="curtain"></div>

<!-- HEART BUTTON -->
<div class="heart-button" id="reveal-btn">
  <svg viewBox="0 0 24 24">
    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5
             2 5.42 4.42 3 7.5 3
             c1.74 0 3.41 0.81 4.5 2.09
             C13.09 3.81 14.76 3 16.5 3
             19.58 3 22 5.42 22 8.5
             c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
  </svg>
</div>

<!-- ENVELOPE -->
<div class="envelope-wrapper" id="envelope-wrapper">
  <div id="envelope">
    <div class="flap"></div>
    <div class="letter" id="letter">
      <h1>It's a date!</h1>
      <h4>Get your dress and get ready!</h4>
    </div>
  </div>
  <div class="hint">Click me!</div>
</div>

<script>
/* HEART SPAWNER */
const paper = d3.select("#canvas");
let w = window.innerWidth, h = window.innerHeight;
function spawnHeart(){
  const x = Math.random()*(w-120)+60;
  const y = Math.random()*(h-120)+60;
  const heart = paper.append("use").attr("xlink:href","#heart").attr("transform",`translate(${x},${y})`);
  const s = Math.random()*0.5+0.6;
  const tl = new TimelineMax({onComplete:()=>heart.remove()});
  tl.fromTo(heart,0.6,{scale:0,transformOrigin:"50% 50%"},{scale:s,transformOrigin:"50% 50%"})
    .to(heart,0.6,{scale:1.1})
    .to(heart,0.4,{opacity:0});
}
setInterval(spawnHeart,450);
window.addEventListener("resize",()=>{w=window.innerWidth; h=window.innerHeight;});

/* CURTAIN + ENVELOPE */
let revealed=false;

$("#reveal-btn").on("click",function(e){
  e.stopPropagation();
  TweenMax.to(".curtain", 1.2, {top:"0%", ease:Power2.easeInOut});
  $(this).hide();
  $("#envelope-wrapper").fadeIn(600);
  revealed=true;
});

/* CLICK TO RESET */
$("body").on("click touchstart", function(e){
  if(revealed && !$(e.target).closest("#envelope").length){
    TweenMax.to(".curtain", 1.2, {top:"-100%", ease:Power2.easeInOut});
    $("#reveal-btn").show();
    $("#envelope-wrapper").fadeOut(600,function(){
      $("#envelope .flap").css("transform","rotateX(0deg)");
      $("#letter").removeClass("visible");
    });
    revealed=false;
  }
});

/* CLICK ENVELOPE TO OPEN */
$("#envelope-wrapper").on("click",function(e){
  $("#envelope .flap").css("transform","rotateX(-180deg)");
  $("#letter").addClass("visible");
});
</script>
</body>
</html>
